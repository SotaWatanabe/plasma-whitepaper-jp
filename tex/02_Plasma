\section{Plasma}

プラズマは、コントラクト作成者がアクティブな状態遷移管理をせずに、自律的かつ持続的にチェーンを運営する経済的インセンティブを作成するための構造をもった、ブロックチェーンでスケーラブルな計算を行う方法である。

ノード自体はチェーンを運営するようにインセンティブ化されている。

さらに、ビットマップ内の単一のビットとのコントラクトからの支出として表される資金を最小限に抑えることによって、重要なスケーラビリティが達成されます、そのため、1つのトランザクションと署名が、多くの参加者と合体した支払いを表す。

私たちは、結合したスマートコントラクトによって強制された、スケーラブルな計算を構築することができるようにするために、MapReduce [5]のフレームワークとこれを組み合わせる。

この構造により、外部化された当事者は、マイナーに似て、資金を保持して契約を計算することができるが、統合された状態の更新のための最小限のデータをオンチェーンに持ちながら
、Plasmaは既存のブロックチェーンの上で実行されるため、すべての状態更新のために基になるチェーンにトランザクションを作成する必要はない。（新規ユーザーの元帳エントリの追加を含む）

%\ref{fig:hamu}
\begin{figure}[htbp]
  \begin{center}
    %\includegraphics[clip,width=7.0cm]{./img/dummy.eps}
    \caption{誰もがさまざまなユースケースのためのスマート契約のスケーラビリティのためのカスタムPlasmaチェーンを作成することができる}
    \label{fig:a}
  \end{center}
\end{figure}

プラズマは、ルートチェーン内に多くのブロックチェーンをおくことを可能にしたスマートコントラクトのシリーズである。

ルートチェーンはプラズマチェーンの状態を強制する。

ルートチェーンは、世界的にすべての計算の執行者であるが、詐欺の証拠がある場合にのみ、計算され、ペナルティが課される。

多くのPlasmaブロックチェーンは、独自のビジネスロジックとスマートコントラクトの条項と共存することができる。

イーサリアムでは、プラズマはイーサリアムで直接実行されるEVMスマートコントラクトで構成されるが、non\-Byzantineの場合には、非常に大量の計算と財務会計記録を表すことができる小さなコミットメントしか処理しない。

プラズマは、5つの主要コンポーネントで構成される。

経済的に効率的な方法で契約を永続的に計算するためのインセンティブ層、
低コストの効率とトランザクションのネット決済を最大限にするための、ツリー形式で子チェーンを配置するための構造、
これらのネストされたチェーン内での状態遷移の詐欺証明を構築してツリー構造と互換性があり、状態遷移を高度にスケーラブルに再構成するためのMapReduceコンピューティングフレームワーク
Nakamoto [6]コンセンサスインセンティブの結果を再現しようとするルートブロックチェインに依存するコンセンサスメカニズム
ルートブロックチェーンからの正確な状態遷移を確実にし、mass\-exitコストを最小限に抑えるためのビットマップ \- UTXOコミットメント構造。

データの利用不可能性やその他のビザンチンな行動の終了を可能にすることは、Plasmaの運用における重要な設計ポイントの1つである。


\subsection{Plasmaブロックチェーン、または外部化された複数のチャンネル}

我々は、マルチパーティーオフチェーンチャネルが他者のために状態を保持できる方法を提案する。

私たちはこのフレームワークをPlasmaブロックチェーンと名付ける。

Plasmaチェーンで保有されている資金については、これにより、Plasmaチェーンへの資金の預金および払戻しが可能になり、詐欺の証拠によって状態の移行が強制される。

これは、ルートチェーンに保持されている資金と一致するPlasmaブロックを考慮して、預金と出金が可能であるため、強制的な状態と代替性を可能にする（Plasmaはフラクショナルリザーブバンク設計に適合するようには設計されていない）。

%\ref{fig:hamu}
\begin{figure}[htbp]
  \begin{center}
    %\includegraphics[clip,width=7.0cm]{./img/dummy.eps}
    \caption{Plasmaブロックチェーンは、ブロックチェーン内のチェーンである}
    \label{fig:a}
  \end{center}
\end{figure}


このシステムは、詐欺の拘束証明によって強制される。

Plasmaブロックチェーンは、ルートチェーン上（例、イーサリアム）のブロックチェーンの内容物を明らかにしていない。

その代わりに、ブロックヘッダハッシュがルートチェーン上に提出され、ルートチェインに詐欺が提出されたことが証明された場合、ブロックはロールバックされ、ブロック作成者にペナルティが課せられる。

これは非常に効率的で、多くの状態の更新は、単一のハッシュ（いくつかの小さな関連データ）で表される。

この更新は、ルートブロックチェーンには表示されない残高を表すことができる（アリスはルートチェーン上の元帳残高を持たず、元帳はPlasmaチェーン上にあり、ルートチェーン内の残高はPlasmaチェーン自体を強制するスマートコントラクトを表している。）

灰色のアイテムは古いブロックであり、黒はルートチェーン上で伝播されコミットされた最新のブロックである。

信じられないほど大量のトランザクションがこのPlasmaチェーンでコミットされ、ルートブロックチェーンに入るデータは最小限に抑えられる。


参加者は、既存の参加者ではない参加者への転送を含む、誰にでも資金を移転することができる。

これらの転送は、ルートブロックチェーンの本来のコイン/トークンに資金を払い込んで（多少の時間遅延と証拠で）資金を引き出すことができる。

Plasmaでは、ルートブロックチェーン上の元帳の完全な永続的な記録なしに、第三者に保管上の信頼を与えることなく、誰か（または、Proof of Stakeの参加者のネットワーク）がブロックチェーンを管理できるようになる。

最悪の場合、資金はロックされ、time\-valueはブロックチェーン上のmass\-exitsによって失われる。

私たちは、このチャンネルで状態を強制するルートブロックチェーン上のスマートコントラクト[7]として一連の不正防止プルーフを構築し、不正行為または非ビザンチン行為の試みを削ることができる。

これらの詐欺証明は、資金出金のインタラクティブプロトコルを強制する。

ライトニングネットワークと同様に、資金を引き出す際には、Exitには時間が必要である。


私たちは、出席者が出金を要求するUTXOモデルに配置された、参加者の元帳OUTPUTのビットマップを証明する、インタラクティブゲームを構築する。

ネットワーク上の誰でも、既に資金が使われているかどうかを証明する代替*bonded*証明書を提出することができる。

これが間違っている場合、ネットワーク上の誰も不正行為を証明し、認証をロールバックするためにbondsを破棄することができます。

十分な時間が経過すると、2番目の*bonded*ラウンドでは、コミットされたタイムスタンプの*前*の状態のbondである引き出しを行うことができる。

これは、欠陥のあるPlasmaチェーンが急速に終了するように、一括して取り出すことを可能にする。

調整された大量出金イベントでは、参加者は、親ブロックチェーンで消費されるブロックスペースが2ビット未満で終了することがある（すなわち、ワーストケースのシナリオではオンチェーンのイーサリアム）

Block withholding攻撃が発生した場合、参加者は迅速かつ安価に大量退出を行うことができ、これまでのオフチェーンの提案と比較して大幅なコスト削減が可能である。

さらに、これは承認ノードの連合（Sidechain Functionaries、Fishermen）に信頼を置いていない。


%\ref{fig:hamu}
\begin{figure}[htbp]
  \begin{center}
    %\includegraphics[clip,width=7.0cm]{./img/dummy.eps}
    \caption{Block wtihholdingの場合の資金の出金}
    \label{fig:a}
  \end{center}
\end{figure}

赤いブロック（ブロック＃4）は、ルートチェーン上で保留されコミットされたブロックであるが、アリスはプラズマブロック＃4を取得できない。

彼女はルートチェーンに資金の証拠を伝播することによってExitし、出金は紛争を許容するために遅れて処理される。

ライトニングネットワークを閉じる方法と同様に、2人の参加者間で無制限の支払いを可能にするためのインタラクティブなメカニズムであり、これにより、n人の参加者間のインタラクティブなメカニズムが可能になる。

主な違いは、すべての参加者が状態を更新するためにオンラインになる必要はなく、参加者は参加を可能にするためにルートチェーンにエントリの記録を必要としないことである。

これらのPlasmaチェーンを、ツリー形式で構築する際に取引を確認するための最小限のデータで、オン・チェーンで直接的な相互作用なしにPlasmaに資金を置くことができる。

ブロックチェーンの強制されたブロックチェーン

%\ref{fig:hamu}
\begin{figure}[htbp]
  \begin{center}
    %\includegraphics[clip,width=7.0cm]{./img/dummy.eps}
    \caption{Plasmaはツリー状にブロックチェーンを構成する}
    \label{fig:a}
  \end{center}
\end{figure}

ブロックコミットメントはフローダウンし、終了は任意の親チェーンに提出でき、最終的にルートブロックチェーンにコミットされる。

裁判制度と同様の仕組みを構築する。

ライトニングネットワークが最終的にルートチェーン上で執行可能な支払いのために裁定層を使用する場合、non\-Byzantineの状態では可用性を最大限に高め、コストを最小限に抑えるために、裁判所の上層階と下層階のシステムを作成します。


チェーンがByzanitneの場合は、その親（ルートブロックチェーンを含む）のいずれかに行き、現在のコミットされた状態で実行を続行するか終了するかを選択できる。

Inctementing\-nonce状態（取り消しを介して）を実行する代わりに、これらの連鎖階層の残高と状態遷移を強制する詐欺証明のシステムを構築する。

実際には、親チェーンに定期的にコミットされるだけの状態遷移を作成することができる。（ルートブロックチェーンに流れる）。

これにより、ビザンチン条件で親（またはルート）チェーンにraw dataを送信することしかできないため、計算量とアカウント状態の驚異的なスケールが可能になる。

ビザンチンの部分的な状態からの復旧は、親プラズマ・チェーンに行って状態を強制することができるため、コストを最小限に抑える。

この子ブロックチェーンはルートブロックチェーン（Ethereumなど）の上で実行され、ルートブロックチェーンの観点からは、ブロックチェーンのProof of Stakeコンセンサスルールとビジネスロジックの実施のために契約でトークンが結合された定期的なコミットメントのみが表示される。

これは、ブロックの可用性を最大化し、コインの承認のためのStakeを最小限に抑える上で重要な利点を有する。

ただし、すべてのデータがすべての関係者に伝播されるわけではないため（特定の状態を検証したい人のみ）、当事者は、彼らが定期的に興味を持っている特定のチェーンを監視し、詐欺行為を罰する責任があり、同様にBlock withholding攻撃の場合には、個人的にチェーンを急速に脱出する。

%\ref{fig:hamu}
\begin{figure}[htbp]
  \begin{center}
    %\includegraphics[clip,width=7.0cm]{./img/dummy.eps}
    \caption{障害のあるブロックチェーン（赤で塗りつぶされている）は、その親のPlasma およびルートチェーン（右の点線の青い線）にコミットメントをブロードキャストすることでルーティングができる}
    \label{fig:a}
  \end{center}
\end{figure}

第3階層目のPlasmaチェーンの参加者は、一定期間後に別のチェーンに一緒に移動します（青色の点線）。


この構造は、非ビザンチン環境では、ブロックチェーンの状態のツリーを結合し、すべてのPlasmaチェーンを更新する。

すべてのチェーンにわたる更新セット全体は、署名付きの32バイトハッシュで証明されます。


\subsection{Plasma Proof\-of\-Stake}
